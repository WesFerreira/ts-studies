!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).core=e()}}(function(){return function r(a,s,l){function d(t,e){if(!s[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var n=s[t]={exports:{}};a[t][0].call(n.exports,function(e){return d(a[t][1][e]||e)},n,n.exports,r,a,s,l)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)d(l[e]);return d}({1:[function(e,t,i){"use strict";var o,n,r;Object.defineProperty(i,"__esModule",{value:!0}),o=i.Mon||(i.Mon={}),n=o.Helpers||(o.Helpers={}),r=function(){function e(e){var t=this;this.scale=30,this.set={animation:{positionIterations:function(e){t.positionIterations=e},timeStep:function(e){t.timeStep=e},velocityIterations:function(e){t.velocityIterations=e}},debug:{fillAlpha:function(e){t.fillAlpha=e},flags:function(e){t.flags=e},lineThickness:function(e){t.lineThickness=e}}},this.timeStep=1/60,this.velocityIterations=8,this.positionIterations=3,this.fillAlpha=.5,this.lineThickness=1,this.flags=Box2D.Dynamics.b2DebugDraw.e_shapeBit||Box2D.Dynamics.b2DebugDraw.e_jointBit,this.animate=function(){t.world.Step(t.timeStep,t.velocityIterations,t.positionIterations),t.world.ClearForces(),t.world.DrawDebugData(),setTimeout(t.animate,t.timeStep)},this.w=e.w,this.h=e.h,e.gravity||(e.gravity=new Box2D.Common.Math.b2Vec2(0,9.8)),this.world=new Box2D.Dynamics.b2World(e.gravity,e.allowSleep),e.debug&&(this.addDebugView(),this.setupDebugDraw())}return e.prototype.addDebugView=function(){var e=document.createElement("canvas");e.width=this.w,e.height=this.h,e.setAttribute("id","debugView"),e.style.cssText="background-color: rgba(255, 255, 255, 0.4); position: absolute;",document.body.insertBefore(e,document.body.getElementsByTagName("canvas")[0])},e.prototype.setupDebugDraw=function(){var e=new Box2D.Dynamics.b2DebugDraw;e.SetSprite(document.getElementById("debugView").getContext("2d")),e.SetDrawScale(this.scale),e.SetFillAlpha(this.fillAlpha),e.SetLineThickness(this.lineThickness),e.SetFlags(this.flags),this.world.SetDebugDraw(e)},e}(),n.Box2App=r},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l,d=e("./Mon-chan"),u=Box2D.Dynamics.b2BodyDef,c=Box2D.Dynamics.b2Body,p=Box2D.Dynamics.b2FixtureDef,f=Box2D.Collision.Shapes.b2PolygonShape,n=Box2D.Collision.Shapes.b2CircleShape,y=30;function h(){var e=new u;e.type=c.b2_dynamicBody,e.position.x=200/y,e.position.y=50/y;var t=new p;t.density=1,t.friction=.5,t.restitution=.3;var i=new n(20/y);t.shape=i;var o=l.world.CreateBody(e);o.CreateFixture(t);return{body:o,radius:30*i.GetRadius(),x:30*e.position.x,y:30*e.position.y}}document.body.onload=function(){var e=new PIXI.Application({width:800,height:440,backgroundColor:7829367,antialias:!0});document.body.appendChild(e.view),e.view.setAttribute("id","pixi"),l=new d.Mon.Helpers.Box2App({w:800,h:440,debug:!0});var t=function(){var e=new u;e.type=c.b2_staticBody,e.position.x=10/y,e.position.y=50/y-15;var t=new p;t.density=1,t.friction=.5,t.restitution=.2;var i=new f;i.SetAsBox(200/y,10/y),t.shape=i,l.world.CreateBody(e).CreateFixture(t);var o=Array();return i.GetVertices().forEach(function(e){var t=30*e.x,i=30*e.y;o.push(t,i)}),console.log("floor"),{verices:o,x:30*e.position.x,y:30*e.position.y}}(),i=h(),o=new PIXI.Graphics;o.beginFill(6074338),o.drawCircle(0,0,i.radius),o.x=50,o.y=50;var n=new PIXI.Graphics;n.beginFill(0),n.drawCircle(15,0,5),o.addChild(n);var r=h(),a=new PIXI.Graphics;a.beginFill(4095),a.drawCircle(0,0,r.radius);var s=new PIXI.Graphics;s.beginFill(6074338),s.drawPolygon(t.verices),s.x=t.x,s.y=t.y,e.stage.addChild(s),e.stage.addChild(o),e.stage.addChild(a),l.set.animation.timeStep(1/60),l.animate(),e.ticker.add(function(e){o.x=30*i.body.GetWorldCenter().x,o.y=30*i.body.GetWorldCenter().y,o.rotation=i.body.GetAngle(),a.x=30*r.body.GetWorldCenter().x,a.y=30*r.body.GetWorldCenter().y})}},{"./Mon-chan":1}]},{},[2])(2)});
//# sourceMappingURL=core.min.js.map

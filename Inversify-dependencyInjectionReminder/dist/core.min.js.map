{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/processed/Mon-chan.js","js/processed/main.js"],"names":["f","exports","module","define","amd","window","global","self","this","core","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Mon","Helpers","Box2App","Object","defineProperty","value","options","_this","scale","set","animation","positionIterations","timeStep","velocityIterations","debug","fillAlpha","alpha","flags","lineThickness","Box2D","Dynamics","b2DebugDraw","e_shapeBit","e_jointBit","animate","world","Step","ClearForces","DrawDebugData","setTimeout","w","h","gravity","Common","Math","b2Vec2","b2World","allowSleep","addDebugView","setupDebugDraw","prototype","box2App","document","createElement","width","height","setAttribute","style","cssText","body","insertBefore","getElementsByTagName","debugDraw","SetSprite","getElementById","getContext","SetDrawScale","SetFillAlpha","SetLineThickness","SetFlags","SetDebugDraw","b2App","Mon_chan_1","b2BodyDef","b2Body","b2FixtureDef","b2PolygonShape","Collision","Shapes","b2CircleShape","createCircleBody","bodyDef","type","b2_dynamicBody","position","x","y","fixtureDef","density","friction","restitution","circl","shape","CreateBody","CreateFixture","radius","GetRadius","onload","app","PIXI","Application","backgroundColor","antialias","appendChild","view","floor","b2_staticBody","poly","SetAsBox","vertex","Array","GetVertices","forEach","vert","push","console","log","verices","createFloor","circle","Graphics","beginFill","drawCircle","circly","addChild","circl2","circle2","polyy","drawPolygon","stage","ticker","add","delta","GetWorldCenter","rotation","GetAngle"],"mappings":"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","file":"core.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Mon;\n(function (Mon) {\n    var Helpers;\n    (function (Helpers) {\n        var Box2App = (function () {\n            function Box2App(options) {\n                var _this = this;\n                this.scale = 30;\n                this.set = {\n                    animation: {\n                        positionIterations: function (positionIterations) {\n                            _this.positionIterations = positionIterations;\n                        },\n                        timeStep: function (timeStep) {\n                            _this.timeStep = timeStep;\n                        },\n                        velocityIterations: function (velocityIterations) {\n                            _this.velocityIterations = velocityIterations;\n                        },\n                    },\n                    debug: {\n                        fillAlpha: function (alpha) {\n                            _this.fillAlpha = alpha;\n                        },\n                        flags: function (flags) {\n                            _this.flags = flags;\n                        },\n                        lineThickness: function (lineThickness) {\n                            _this.lineThickness = lineThickness;\n                        },\n                    },\n                };\n                this.timeStep = 1 / 60;\n                this.velocityIterations = 8;\n                this.positionIterations = 3;\n                this.fillAlpha = 0.5;\n                this.lineThickness = 1;\n                this.flags = Box2D.Dynamics.b2DebugDraw.e_shapeBit || Box2D.Dynamics.b2DebugDraw.e_jointBit;\n                this.animate = function () {\n                    _this.world.Step(_this.timeStep, _this.velocityIterations, _this.positionIterations);\n                    _this.world.ClearForces();\n                    _this.world.DrawDebugData();\n                    setTimeout(_this.animate, _this.timeStep);\n                };\n                this.w = options.w;\n                this.h = options.h;\n                if (!options.gravity) {\n                    options.gravity = new Box2D.Common.Math.b2Vec2(0, 9.8);\n                }\n                this.world = new Box2D.Dynamics.b2World(options.gravity, options.allowSleep);\n                if (options.debug) {\n                    this.addDebugView();\n                    this.setupDebugDraw();\n                }\n            }\n            Box2App.prototype.addDebugView = function () {\n                var box2App = document.createElement(\"canvas\");\n                box2App.width = this.w;\n                box2App.height = this.h;\n                box2App.setAttribute(\"id\", \"debugView\");\n                box2App.style.cssText = \"background-color: rgba(255, 255, 255, 0.4); position: absolute;\";\n                document.body.insertBefore(box2App, document.body.getElementsByTagName(\"canvas\")[0]);\n            };\n            Box2App.prototype.setupDebugDraw = function () {\n                var debugDraw = new Box2D.Dynamics.b2DebugDraw();\n                debugDraw.SetSprite(document.getElementById(\"debugView\").getContext(\"2d\"));\n                debugDraw.SetDrawScale(this.scale);\n                debugDraw.SetFillAlpha(this.fillAlpha);\n                debugDraw.SetLineThickness(this.lineThickness);\n                debugDraw.SetFlags(this.flags);\n                this.world.SetDebugDraw(debugDraw);\n            };\n            return Box2App;\n        }());\n        Helpers.Box2App = Box2App;\n    })(Helpers = Mon.Helpers || (Mon.Helpers = {}));\n})(Mon = exports.Mon || (exports.Mon = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Mon_chan_1 = require(\"./Mon-chan\");\nvar b2BodyDef = Box2D.Dynamics.b2BodyDef;\nvar b2Body = Box2D.Dynamics.b2Body;\nvar b2FixtureDef = Box2D.Dynamics.b2FixtureDef;\nvar b2PolygonShape = Box2D.Collision.Shapes.b2PolygonShape;\nvar b2CircleShape = Box2D.Collision.Shapes.b2CircleShape;\nvar scale = 30;\nvar b2App;\nfunction createFloor() {\n    var bodyDef = new b2BodyDef;\n    bodyDef.type = b2Body.b2_staticBody;\n    bodyDef.position.x = 20 / 2 / scale;\n    bodyDef.position.y = 50 / scale - 15;\n    var fixtureDef = new b2FixtureDef;\n    fixtureDef.density = 1.0;\n    fixtureDef.friction = 0.5;\n    fixtureDef.restitution = 0.2;\n    var poly = new b2PolygonShape;\n    poly.SetAsBox(200 / scale, 10 / scale);\n    fixtureDef.shape = poly;\n    var body = b2App.world.CreateBody(bodyDef);\n    var fixture = body.CreateFixture(fixtureDef);\n    var vertex = Array();\n    poly.GetVertices().forEach(function (vert) {\n        var x = vert.x * 30;\n        var y = vert.y * 30;\n        vertex.push(x, y);\n    });\n    console.log(\"floor\");\n    return {\n        verices: vertex,\n        x: bodyDef.position.x * 30,\n        y: bodyDef.position.y * 30,\n    };\n}\nfunction createCircleBody() {\n    var bodyDef = new b2BodyDef;\n    bodyDef.type = b2Body.b2_dynamicBody;\n    bodyDef.position.x = 400 / 2 / scale;\n    bodyDef.position.y = 50 / scale;\n    var fixtureDef = new b2FixtureDef;\n    fixtureDef.density = 1.0;\n    fixtureDef.friction = 0.5;\n    fixtureDef.restitution = 0.3;\n    var circl = new b2CircleShape(20 / scale);\n    fixtureDef.shape = circl;\n    var body = b2App.world.CreateBody(bodyDef);\n    var fixture = body.CreateFixture(fixtureDef);\n    return {\n        body: body,\n        radius: circl.GetRadius() * 30,\n        x: bodyDef.position.x * 30,\n        y: bodyDef.position.y * 30,\n    };\n}\ndocument.body.onload = function () {\n    var w = 800;\n    var h = 440;\n    var app = new PIXI.Application({ width: w, height: h, backgroundColor: 0x777777, antialias: true });\n    document.body.appendChild(app.view);\n    app.view.setAttribute(\"id\", \"pixi\");\n    b2App = new Mon_chan_1.Mon.Helpers.Box2App({ w: w, h: h, debug: true });\n    var floor = createFloor();\n    var circl = createCircleBody();\n    var circle = new PIXI.Graphics();\n    circle.beginFill(0x5cafe2);\n    circle.drawCircle(0, 0, circl.radius);\n    circle.x = 50;\n    circle.y = 50;\n    var circly = new PIXI.Graphics();\n    circly.beginFill(0x000);\n    circly.drawCircle(15, 0, 5);\n    circle.addChild(circly);\n    var circl2 = createCircleBody();\n    var circle2 = new PIXI.Graphics();\n    circle2.beginFill(0xfff);\n    circle2.drawCircle(0, 0, circl2.radius);\n    var polyy = new PIXI.Graphics();\n    polyy.beginFill(0x5cafe2);\n    polyy.drawPolygon(floor.verices);\n    polyy.x = floor.x;\n    polyy.y = floor.y;\n    app.stage.addChild(polyy);\n    app.stage.addChild(circle);\n    app.stage.addChild(circle2);\n    b2App.set.animation.timeStep(1 / 60);\n    b2App.animate();\n    app.ticker.add(function (delta) {\n        circle.x = circl.body.GetWorldCenter().x * 30;\n        circle.y = circl.body.GetWorldCenter().y * 30;\n        circle.rotation = circl.body.GetAngle();\n        circle2.x = circl2.body.GetWorldCenter().x * 30;\n        circle2.y = circl2.body.GetWorldCenter().y * 30;\n    });\n};\n"]}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/processed/App.js","source/js/processed/Container.js","source/js/processed/Graphics.js","source/js/processed/PixiDebugBox2D.js","source/js/processed/Stage.js","source/js/processed/SyncViews.js","source/js/processed/main.js","source/js/processed/objects/DisplayObject.js"],"names":["f","exports","module","define","amd","window","global","self","this","core","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","extendStatics","__extends","Object","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","App","_super","_this","backgroundColor","width","height","gravity","Box2D","Common","Math","b2Vec2","graphics","world","Dynamics","b2World","debugDraw","SetDebugDraw","getInstance","instance","SyncViews","App_1","PixiDebugBox2D_1","Container","addChild","child","push","draw","CreateBody","b2dObj","bodyDef","CreateFixture","fixtureDef","PixiDebugBox2D","drawAll","Container_1","DisplayObject_1","Graphics","createCircle","createB2DCircle","b2BodyDef","type","b2Body","b2_dynamicBody","position","x","y","b2FixtureDef","density","friction","restitution","circl","Collision","Shapes","b2CircleShape","shape","DisplayObject","forEach","DrawDebugData","Stage","apply","arguments","Stage_1","options","stage","debugView","addDebugView","setupDebugDraw","addPixiView","debugV","document","createElement","setAttribute","style","cssText","body","appendChild","pixiApp","PIXI","Application","view","renderer","context","getElementById","getContext","b2DebugDraw","SetSprite","SetDrawScale","SetFillAlpha","SetLineThickness","SetFlags","e_shapeBit","e_jointBit","Graphics_1","mon","ball"],"mappings":"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","file":"core.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SyncViews_1 = require(\"./SyncViews\");\nvar App = (function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super.call(this, { backgroundColor: 0xcccccc, width: 800, height: 440 }, true) || this;\n        _this.gravity = new Box2D.Common.Math.b2Vec2(0, 9.8);\n        _this.graphics = [];\n        _this.world = new Box2D.Dynamics.b2World(_this.gravity, true);\n        if (_this.debugDraw) {\n            _this.world.SetDebugDraw(_this.debugDraw);\n        }\n        return _this;\n    }\n    App.getInstance = function () {\n        if (!App.instance) {\n            App.instance = new App();\n        }\n        return App.instance;\n    };\n    return App;\n}(SyncViews_1.SyncViews));\nexports.App = App;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar PixiDebugBox2D_1 = require(\"./PixiDebugBox2D\");\nvar Container = (function () {\n    function Container() {\n    }\n    Container.prototype.addChild = function (child) {\n        App_1.App.getInstance().graphics.push({\n            draw: function () {\n                App_1.App.getInstance().world.CreateBody(child.b2dObj.bodyDef).CreateFixture(child.b2dObj.fixtureDef);\n            },\n        });\n        PixiDebugBox2D_1.PixiDebugBox2D.getInstance().drawAll();\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = require(\"./Container\");\nvar DisplayObject_1 = require(\"./objects/DisplayObject\");\nvar Graphics = (function (_super) {\n    __extends(Graphics, _super);\n    function Graphics() {\n        return _super.call(this) || this;\n    }\n    Graphics.prototype.createCircle = function () {\n        return this.createB2DCircle();\n    };\n    Graphics.prototype.createB2DCircle = function () {\n        var bodyDef = new Box2D.Dynamics.b2BodyDef();\n        bodyDef.type = Box2D.Dynamics.b2Body.b2_dynamicBody;\n        bodyDef.position.x = 800 / 2 / 30;\n        bodyDef.position.y = 50 / 30;\n        var fixtureDef = new Box2D.Dynamics.b2FixtureDef();\n        fixtureDef.density = 1.0;\n        fixtureDef.friction = 0.5;\n        fixtureDef.restitution = 0.3;\n        var circl = new Box2D.Collision.Shapes.b2CircleShape(20 / 30);\n        fixtureDef.shape = circl;\n        return new DisplayObject_1.DisplayObject({ bodyDef: bodyDef, fixtureDef: fixtureDef });\n    };\n    return Graphics;\n}(Container_1.Container));\nexports.Graphics = Graphics;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar PixiDebugBox2D = (function () {\n    function PixiDebugBox2D() {\n    }\n    PixiDebugBox2D.getInstance = function () {\n        if (!PixiDebugBox2D.instance) {\n            PixiDebugBox2D.instance = new PixiDebugBox2D();\n        }\n        return PixiDebugBox2D.instance;\n    };\n    PixiDebugBox2D.prototype.drawAll = function () {\n        App_1.App.getInstance().graphics.forEach(function (value) {\n            value.draw();\n        });\n        App_1.App.getInstance().world.DrawDebugData();\n    };\n    return PixiDebugBox2D;\n}());\nexports.PixiDebugBox2D = PixiDebugBox2D;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = require(\"./Container\");\nvar Stage = (function (_super) {\n    __extends(Stage, _super);\n    function Stage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Stage;\n}(Container_1.Container));\nexports.Stage = Stage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Stage_1 = require(\"./Stage\");\nvar SyncViews = (function () {\n    function SyncViews(options, debugDraw) {\n        this.stage = new Stage_1.Stage();\n        this.width = 800;\n        this.height = 600;\n        if (options) {\n            if (options.width) {\n                this.width = options.width;\n            }\n            if (options.height) {\n                this.height = options.width;\n            }\n            if (debugDraw) {\n                this.debugView = this.addDebugView(options);\n                this.debugDraw = this.setupDebugDraw();\n            }\n        }\n        this.addPixiView(options);\n    }\n    SyncViews.prototype.addDebugView = function (options) {\n        var debugV = document.createElement(\"canvas\");\n        debugV.width = options.width;\n        debugV.height = options.height;\n        debugV.setAttribute(\"id\", \"debugView\");\n        debugV.style.cssText =\n            \"background-color: rgba(255, 255, 255, 0.5); position: absolute;\";\n        document.body.appendChild(debugV);\n        return debugV;\n    };\n    SyncViews.prototype.addPixiView = function (options) {\n        var pixiApp = new PIXI.Application(options);\n        pixiApp.view.setAttribute(\"id\", \"renderView\");\n        this.renderer = pixiApp.renderer;\n        document.body.appendChild(pixiApp.view);\n    };\n    SyncViews.prototype.setupDebugDraw = function () {\n        var context = document.getElementById(\"debugView\").getContext(\"2d\");\n        var debugDraw = new Box2D.Dynamics.b2DebugDraw();\n        debugDraw.SetSprite(context);\n        debugDraw.SetDrawScale(30);\n        debugDraw.SetFillAlpha(0.3);\n        debugDraw.SetLineThickness(1.0);\n        debugDraw.SetFlags(Box2D.Dynamics.b2DebugDraw.e_shapeBit || Box2D.Dynamics.b2DebugDraw.e_jointBit);\n        return debugDraw;\n    };\n    return SyncViews;\n}());\nexports.SyncViews = SyncViews;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar Graphics_1 = require(\"./Graphics\");\nvar PixiDebugBox2D_1 = require(\"./PixiDebugBox2D\");\nvar mon = App_1.App.getInstance();\nvar d = PixiDebugBox2D_1.PixiDebugBox2D.getInstance();\nvar g = new Graphics_1.Graphics();\nvar ball = g.createCircle();\nmon.stage.addChild(ball);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DisplayObject = (function () {\n    function DisplayObject(b2dObj) {\n        this.b2dObj = b2dObj;\n    }\n    return DisplayObject;\n}());\nexports.DisplayObject = DisplayObject;\n"]}